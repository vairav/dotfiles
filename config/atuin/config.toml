# Atuin Configuration
# Docs: https://docs.atuin.sh/configuration/config/

# Where to store the database (default: ~/.local/share/atuin/history.db)
# db_path = "~/.local/share/atuin/history.db"

# =============================================================================
# Sync Settings (requires: atuin register && atuin login)
# =============================================================================
# Atuin stores unlimited history in SQLite - no size limits like traditional shells.
# Sync is end-to-end encrypted; Atuin servers cannot read your commands.

# Enable automatic sync
auto_sync = true

# How often to sync in the background
sync_frequency = "5m"

# Sync server (default is Atuin's hosted service)
sync_address = "https://api.atuin.sh"

# =============================================================================
# Search Settings
# =============================================================================

# Search mode: prefix, fulltext, fuzzy, skim
search_mode = "fuzzy"

# Filter mode: global, host, session, directory
filter_mode = "global"

# Filter mode when pressing ctrl+r from a directory
filter_mode_shell_up_key_binding = "directory"

# What style to use for the UI: auto, full, compact
style = "auto"

# Invert the UI - search input at the top
invert = false

# Show preview of the selected command
show_preview = true

# Max preview height (as percentage of screen)
max_preview_height = 4

# Show help banner at the bottom
show_help = true

# =============================================================================
# History Settings
# =============================================================================

# What to store in history
## When to save commands to history:
# - always: Always add commands to history
# - exit-code: Only add commands with exit code 0 (successful)
store_failed = true

# Add commands to history only if they have a whitespace prefix
# (like bash's HISTCONTROL=ignorespace)
secrets_filter = true

# =============================================================================
# Key Bindings
# =============================================================================

# Which keys to use for cycling through search results
# Available: tab, up-arrow
[keys]
scroll_exits = false

# =============================================================================
# Stats
# =============================================================================

# Number of most common commands to show in stats
[stats]
common_subcommands = ["cargo", "go", "git", "npm", "yarn", "pnpm", "kubectl", "docker"]
common_prefix = ["sudo"]

# =============================================================================
# Daemon (optional - reduces shell startup time)
# =============================================================================
# Run `atuin daemon` in background for faster shell startup
# daemon = { enabled = true }
